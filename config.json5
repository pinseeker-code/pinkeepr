// Pinkeepr Configuration
// OpenClaw instance secured for Nostr-only communication with Oracle
// NOTE: privateKey comes from NOSTR_PRIVATE_KEY env var
{
  // ============================================
  // GATEWAY SETTINGS
  // ============================================
  gateway: {
    mode: "local",
  },

  // ============================================
  // NOSTR CHANNEL - Primary communication
  // ============================================
  channels: {
    nostr: {
      enabled: true,
      
      // Private relay only
      relays: [
        "ws://umbrel.technitium:4848"
      ],
      
      // SECURITY: allowlist mode - only Oracle can message Pinkeepr
      dmPolicy: "allowlist",
      
      // Oracle's npub - the ONLY identity Pinkeepr will respond to
      allowFrom: [
        "npub1rxuynay46qlgqf66djn82tyxzaahjj03tt3svvknr2wt6athackqjry09z"
      ],
      
      // Pinkeepr's profile metadata
      profile: {
        name: "Pinkeepr",
        displayName: "Pinkeepr AI",
        about: "Personal AI assistant. Private instance - invite only.",
      }
    }
  },

  // ============================================
  // MODEL PROVIDERS
  // ============================================
  models: {
    providers: {
      ollama: {
        baseUrl: "http://100.79.12.80:11434/v1",
        apiKey: "ollama-local",
        api: "openai-completions",
        models: [
          {
            id: "qwen2.5:3b",
            name: "Qwen 2.5 3B",
            reasoning: false,
            input: ["text"],
            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 32768,
            maxTokens: 8192
          }
        ]
      }
    }
  },

  // ============================================
  // AGENT DEFAULTS
  // ============================================
  agents: {
    defaults: {
      model: {
        primary: "ollama/qwen2.5:3b"
      },
    }
  },

  // ============================================
  // LOGGING
  // ============================================
  logging: {
    level: "info",
    redactSecrets: true,
  }
}
